<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hangman Game</title>
  <style>
    body {
      font-family: monospace;
      text-align: center;
      background-color: #f8f8f8;
    }
    #setup, #game {
      margin-top: 30px;
    }
    #word {
      font-size: 2em;
      letter-spacing: 10px;
      margin: 20px;
    }
    .letter {
      display: inline-block;
      margin: 5px;
      padding: 10px 15px;
      border: 2px solid #333;
      border-radius: 5px;
      background-color: #fff;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.2s;
    }
    .letter:hover:not(:disabled) {
      background-color: #add8e6;
      transform: scale(1.1);
    }
    .letter:disabled {
      background-color: #ddd;
      cursor: not-allowed;
    }
    #message {
      font-size: 1.5em;
      margin-top: 20px;
    }
    #studentName {
      margin-top: 20px;
      display: none;
    }
    input[type="text"] {
      padding: 8px;
      font-size: 1em;
      width: 200px;
    }
    #winners {
      margin-top: 30px;
    }
    #winners ul {
      list-style: none;
      padding: 0;
    }
    #resetBtn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1em;
      background-color: #f44336;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #hint {
      font-size: 1.2em;
      margin-top: 10px;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>Hangman Game - Developed by Teacher Deivis.</h1>

  <div id="setup">
    <p>Digite uma palavra em portugu√™s:</p>
    <input type="text" id="portugueseInput" placeholder="Ex: mesa" />
    <button onclick="startGame()">Iniciar Jogo</button>
  </div>

  <div id="game" style="display: none;">
    <canvas id="hangman" width="200" height="200"></canvas>
    <div id="hint"></div>
    <div id="word"></div>
    <div id="letters"></div>
    <div id="message"></div>

    <div id="studentName">
      <p>Quem acertou?</p>
      <input type="text" id="nameInput" placeholder="Nome do aluno..." />
      <button onclick="saveWinner()">Salvar</button>
    </div>

    <div id="winners">
      <h2>üèÜ Alunos que acertaram:</h2>
      <ul id="winnerList"></ul>
    </div>

    <button id="resetBtn" onclick="resetGame()">üîÅ Novo Jogo</button>
  </div>

  <script>
    const dictionary = {
      "terceiras pessoas do singular": "he she it",
      "auxilio": "aid",
      "turbulencia": "turmoil",
      "toocarr a canpainha": "ring the bell",
      "veneno": "poison",
      "passaro": "bird",
      "blend": "pan",
      "furacao": "hurricane",
      "fica por aqui": "Stick around",
      "recome√ßar": "restart",
       "sorte": "lucy",
       "camundongos": "mice",
       "cambalhota": "somersault",
    "fog√£o": "stove"
    };

    let word = "";
    let guessed = [];
    let errors = 0;
    const maxErrors = 6;
    let winnersMap = {};

    const canvas = document.getElementById("hangman");
    const ctx = canvas.getContext("2d");
    const wordContainer = document.getElementById("word");
    const lettersContainer = document.getElementById("letters");
    const message = document.getElementById("message");
    const studentName = document.getElementById("studentName");
    const winnerList = document.getElementById("winnerList");
    const hintDisplay = document.getElementById("hint");

    function startGame() {
      const input = document.getElementById("portugueseInput").value.trim().toLowerCase();
      if (!dictionary[input]) {
        alert("Palavra n√£o encontrada no dicion√°rio.");
        return;
      }
      word = dictionary[input].toUpperCase();
      hintDisplay.textContent = "Dica: " + input;
      document.getElementById("setup").style.display = "none";
      document.getElementById("game").style.display = "block";
      guessed = [];
      errors = 0;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      updateWord();
      createLetters();
      message.textContent = "";
      studentName.style.display = "none";
    }

    function updateWord() {
      let display = word.split("").map(l => guessed.includes(l) ? l : "_").join(" ");
      wordContainer.textContent = display;
      if (!display.includes("_")) {
        message.textContent = "Parab√©ns! Voc√™ venceu!";
        disableLetters();
        studentName.style.display = "block";
      }
    }

    function createLetters() {
      lettersContainer.innerHTML = "";
      "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(letter => {
        const btn = document.createElement("button");
        btn.textContent = letter;
        btn.className = "letter";
        btn.onclick = () => guess(letter, btn);
        lettersContainer.appendChild(btn);
      });
    }

    function guess(letter, btn) {
      btn.disabled = true;
      if (word.includes(letter)) {
        guessed.push(letter);
        updateWord();
      } else {
        errors++;
        drawHangman();
        if (errors >= maxErrors) {
          message.textContent = "Fim de jogo! A palavra era: " + word;
          disableLetters();
        }
      }
    }

    function disableLetters() {
      document.querySelectorAll(".letter").forEach(btn => btn.disabled = true);
    }

    function saveWinner() {
      const name = document.getElementById("nameInput").value.trim();
      if (name) {
        if (winnersMap[name]) {
          winnersMap[name]++;
        } else {
          winnersMap[name] = 1;
        }
        updateWinnerList();
        document.getElementById("nameInput").value = "";
      }
    }

    function updateWinnerList() {
      winnerList.innerHTML = "";
      for (const name in winnersMap) {
        const li = document.createElement("li");
        li.textContent = `- ${name} ${"‚≠ê".repeat(winnersMap[name])}`;
        winnerList.appendChild(li);
      }
    }

    function resetGame() {
      document.getElementById("setup").style.display = "block";
      document.getElementById("game").style.display = "none";
      document.getElementById("portugueseInput").value = "";
      hintDisplay.textContent = "";
    }

    function drawHangman() {
      ctx.lineWidth = 3;
      ctx.strokeStyle = "#000";

      if (errors > 0) ctx.strokeRect(10, 180, 40, 10);
      if (errors > 1) { ctx.beginPath(); ctx.moveTo(30, 180); ctx.lineTo(30, 20); ctx.stroke(); }
      if (errors > 2) { ctx.beginPath(); ctx.moveTo(30, 20); ctx.lineTo(100, 20); ctx.stroke(); }
      if (errors > 3) { ctx.beginPath(); ctx.moveTo(100, 20); ctx.lineTo(100, 40); ctx.stroke(); }
      if (errors > 4) { ctx.beginPath(); ctx.arc(100, 55, 15, 0, Math.PI * 2); ctx.stroke(); }
      if (errors > 5) {
        ctx.beginPath();
        ctx.moveTo(100, 70); ctx.lineTo(100, 110);
        ctx.moveTo(100, 80); ctx.lineTo(80, 100);
        ctx.moveTo(100, 80); ctx.lineTo(120, 100);
        ctx.moveTo(100, 110); ctx.lineTo(80, 140);
        ctx.moveTo(100, 110); ctx.lineTo(120, 140);
        ctx.stroke();
      }
    }
  </script>
</body>
</html>
